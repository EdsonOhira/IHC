<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - EcoMed</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      background-color: #ffffff;
      font-family: "Poppins", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .cadastro-container {
      max-width: 800px;
      width: 100%;
      background-color: #fff;
      padding: 40px 25px;
      border-radius: 20px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
      text-align: center;
      position: relative;
    }

    h1 {
      color: #00bfff;
      font-weight: 600;
      margin-bottom: 10px;
    }

    p {
      margin-bottom: 20px;
    }

    .form-control {
      border-radius: 10px;
      margin-bottom: 12px;
      position: relative;
      width: 100%;
    }

    .btn-cadastrar {
      background-color: #00bfff;
      color: white;
      border-radius: 20px;
      width: 150px;
      margin-top: 20px;
      transition: 0.3s;
    }

    .btn-cadastrar:hover {
      background-color: #009fe3;
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.35);
    }

    .tipo-usuario {
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .back-btn {
      position: absolute;
      left: 20px;
      top: 20px;
      font-size: 18px;
      color: #333;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .back-btn:hover {
      color: #00bfff;
    }

    /* Label flutuante para data de nascimento */
    .floating-label {
      position: absolute;
      left: 12px;
      top: 8px;
      color: #aaa;
      pointer-events: none;
      transition: 0.2s;
      font-size: 0.9rem;
    }

    .floating-label.active {
      top: -8px;
      font-size: 0.75rem;
      color: #00bfff;
    }

    @media (max-width: 768px) {
      .cadastro-container {
        padding: 30px 15px;
      }

      .tipo-usuario {
        gap: 15px;
        justify-content: center;
      }

      #dataNascimentoWrapper {
        width: 100% !important;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.5rem;
      }

      .btn-cadastrar {
        width: 100%;
        max-width: 200px;
      }
    }
  </style>
</head>
<body>

  <a href="javascript:history.back()" class="back-btn">
    <i class="bi bi-arrow-left fs-3"></i> Voltar
  </a>

  <div class="cadastro-container">
    <h1>Seja bem-vindo</h1>
    <p>Efetue seu cadastro</p>

    <!-- Tipo de usuário -->
    <div class="tipo-usuario d-flex justify-content-center gap-4">
      <div class="form-check">
        <input class="form-check-input" type="radio" name="tipoUsuario" id="instituicao">
        <label class="form-check-label" for="instituicao">Instituição</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="tipoUsuario" id="consumidor" checked>
        <label class="form-check-label" for="consumidor">Consumidor</label>
      </div>
    </div>

    <form id="cadastroForm" class="row g-3 mt-2">
      <div class="col-md-6">
        <input type="text" class="form-control" id="nomeRazao" placeholder="Nome completo" required>
      </div>
      <div class="col-md-6">
        <input type="password" class="form-control" placeholder="Senha" required>
      </div>

      <div class="col-md-6">
        <input type="email" class="form-control" placeholder="E-mail" required>
      </div>
      <div class="col-md-6">
        <input type="password" class="form-control" placeholder="Confirmação de senha" required>
      </div>

      <div class="col-md-6">
        <input type="text" class="form-control" id="cpfCnpj" placeholder="CPF" required>
      </div>
      <div class="col-md-6">
        <input type="text" class="form-control" placeholder="Endereço completo" required>
      </div>
      <div class="col-md-6">
        <input type="text" class="form-control" placeholder="Telefone" required>
      </div>

      <!-- Data de nascimento apenas para Consumidor -->
      <div class="col-md-6 position-relative" id="dataNascimentoWrapper">
        <input type="date" class="form-control" id="dataNascimento" required style="padding-top:1.6rem;">
        <label for="dataNascimento" class="floating-label">Data de nascimento</label>
      </div>

      <div class="col-12 d-flex justify-content-center">
        <button type="submit" class="btn btn-cadastrar">Cadastre-se</button>
      </div>
    </form>
  </div>

  <script>
    const radios = document.querySelectorAll('input[name="tipoUsuario"]');
    const cpfCnpjInput = document.getElementById('cpfCnpj');
    const nomeRazaoInput = document.getElementById('nomeRazao');
    const dataNascimentoWrapper = document.getElementById('dataNascimentoWrapper');
    const dataInput = document.getElementById('dataNascimento');
    const dataLabel = dataNascimentoWrapper.querySelector('label');

    radios.forEach(radio => {
      radio.addEventListener('change', () => {
        const tipo = document.querySelector('input[name="tipoUsuario"]:checked').id;

        cpfCnpjInput.placeholder = tipo === 'instituicao' ? 'CNPJ' : 'CPF ou E-mail';
        nomeRazaoInput.placeholder = tipo === 'instituicao' ? 'Razão Social' : 'Nome completo';
        dataNascimentoWrapper.style.display = tipo === 'instituicao' ? 'none' : 'block';
      });
    });

    // Label flutuante
    function updateLabel() {
      if (dataInput.value) {
        dataLabel.classList.add('active');
      } else {
        dataLabel.classList.remove('active');
      }
    }
    dataInput.addEventListener('focus', () => dataLabel.classList.add('active'));
    dataInput.addEventListener('blur', updateLabel);
    updateLabel();

    // Redirecionamento ao enviar
    const form = document.getElementById('cadastroForm');
    form.addEventListener('submit', function(event) {
      event.preventDefault();
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>
